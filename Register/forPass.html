<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sana Forgot Password</title>
  <link rel="stylesheet" href="forPass.css">
  <link rel="icon" href="/public/vite.svg" type="image/svg+xml"> 
</head>

<body>
    <div class="container">
        <div class="content-box">   
            <div class="content">
                <h2>Requesting New Password</h2>

                <form id="emailForm">

                    <div class="input-box">
                        <label for="email">Enter Your Email</label>
                        <input type="email" id="email" placeholder="Email" required>
                    </div>

                    <div class="input-box">
                        <input type="submit" value="Verify Email">
                    </div>

                </form>

               <form id="passwordForm" style="display: none;">

                    <div class="input-box password-box">
                        <label for="inputPass">Enter New Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="inputPass" placeholder="password" required>
                            <img src="/src/assets/eye.svg" class="eye-icon" data-target="inputPass">
                        </div>
                    </div>

                    <div class="input-box password-box">
                        <label for="confPass">Confirm Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="confPass" placeholder="password" required>
                            <img src="/src/assets/eye.svg" class="eye-icon" data-target="confPass">
                        </div>
                    </div>

                    <div class="input-box">
                        <input type="submit" value="Update Password">
                    </div>

                </form>

            </div>
        </div>
    </div>
    <script>

            document.getElementById("emailForm").addEventListener("submit", function(event) {
                event.preventDefault(); 

                document.getElementById("emailForm").style.display = "none";
                document.getElementById("passwordForm").style.display = "block";
            });

            document.getElementById("passwordForm").addEventListener("submit", function(event) {
                event.preventDefault();

                const pass = document.getElementById("inputPass").value;
                const confirm = document.getElementById("confPass").value;

                if (pass !== confirm) {
                    alert("Passwords do not match!");
                    return;
                }

                alert("Password successfully updated!");
                window.location.href = "../Login/login.html";
            });

            document.querySelectorAll(".eye-icon").forEach(icon => {
                icon.addEventListener("click", function () {

                    const input = document.getElementById(this.dataset.target);

                    if (input.type === "password") {
                        input.type = "text";
                    } else {
                        input.type = "password";
                    }

                });
            });

    </script>

    </body>
</html>